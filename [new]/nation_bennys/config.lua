config = {}

config.prices = {

---------tipos de cor-----------

	["colortypes"] = {
		["cromado"] = 2000,  -- + o preco da cor normal
		["metálico"] = 2000,
		["fosco"] = 100,
		["metal"] = 300 
	},

----------cor secundária custom--------
	["cor-secundaria"] = {
		startprice = 1,
		item = 'tinta', 
		amount = 30
	},	
----------cor primaria custom--------
	["cor-primaria"] = {
		startprice = 1,
		item = 'tinta', 
		amount = 30
	},
----------cor secundária--------
	["secundaria"] = {
		startprice = 1000,
		item = 'tinta', 
		amount = 30
	},	
----------cor primaria--------
	["primaria"] = {
		startprice = 2000,
		item = 'tinta', 
		amount = 30
	},
----------Perolado--------
	["perolado"] = {
		startprice = 1,
		item = 'tinta', 
		amount = 30
	},
----------Cor da roda--------
	["wheelcolor"] = {
		startprice = 1000,
		item = 'tinta', 
		amount = 30
	},
----------Neon--------
	["neon"] = {
		startprice = 3000,
		item = 'neon', 
		amount = 30
	},
----------Pneu custom--------
	["custom"] = {
		startprice = 1000,
		item = 'pneu', 
		amount = 30
	},
----------Pneu a prova de balas--------
	["bulletproof"] = {
		startprice = 240000,
		item = 'pneu', 
		amount = 30
	},
----------cor da fumaça--------
	["smoke"] = {
		startprice = 500,
		item = 'tinta', 
		amount = 30
	},
----------Placa--------
	["placa"] = {
		startprice = 500,
		increaseby = 150,
		item = 'placa', 
		amount = 30
	},
----------Vidro--------
	["vidro"] = {
		startprice = 500,
		increaseby = 250,
		item = 'vidro', 
		amount = 30
	},
----------Liveries--------
	[48] = {
		startprice = 2000,
		increaseby = 800,
		item = 'decal', 
		amount = 30
	},
	
----------Windows--------
	[46] = {
		startprice = 3000,
		increaseby = 1250,
		item = 'janela', 
		amount = 30
	},
	
----------Tank--------
	[45] = {
		startprice = 20000,
		increaseby = 20000,
		item = 'tanque', 
		amount = 30
	},
	
----------Trim--------
	[44] = {
		startprice = 1000,
		increaseby = 0,
		item = 'trim', 
		amount = 30
	},
	
----------Aerials--------
	[43] = {
		startprice = 2000,
		increaseby = 0,
		item = 'antena', 
		amount = 30
	},

----------Arch cover--------
	[42] = {
		startprice = 2000,
		increaseby = 0,
		item = 'capa', 
		amount = 30
	},

----------Struts--------
	[41] = {
		startprice = 5000,
		increaseby = 1250,
		item = 'suporte', 
		amount = 30
	},
	
----------Air filter--------
	[40] = {
		startprice = 2000,
		increaseby = 0,
		item = 'filtrodear', 
		amount = 30
	},
	
----------Engine block--------
	[39] = {
		startprice = 2000,
		increaseby = 0,
		item = 'motor', 
		amount = 30
	},

----------Hydraulics--------
	[38] = {
		startprice = 5000,
		increaseby = 0,
		item = 'hidraulica', 
		amount = 30
	},
	
----------Trunk--------
	[37] = {
		startprice = 4000,
		increaseby = 0,
		item = 'porta-malas', 
		amount = 30
	},

----------Speakers--------
	[36] = {
		startprice = 5000,
		increaseby = 0,
		item = 'som', 
		amount = 30
	},

----------Plaques--------
	[35] = {
		startprice = 2000,
		increaseby = 0,
		item = 'placa', 
		amount = 30
	},
	
----------Shift leavers--------
	[34] = {
		startprice = 3000,
		increaseby = 0,
		item = 'cambio', 
		amount = 30
	},
	
----------Steeringwheel--------
	[33] = {
		startprice = 3000,
		increaseby = 0,
		item = 'volante', 
		amount = 30
	},
	
----------Seats--------
	[32] = {
		startprice = 4000,
		increaseby = 0,
		item = 'banco', 
		amount = 30
	},
	
----------Door speaker--------
	[31] = {
		startprice = 5000,
		increaseby = 0,
		item = 'porta', 
		amount = 30
	},

----------Dial--------
	[30] = {
		startprice = 4000,
		increaseby = 0,
		item = 'ponteiro', 
		amount = 30
	},
----------Dashboard--------
	[29] = {
		startprice = 4000,
		increaseby = 0,
		item = 'painel', 
		amount = 30
	},
	
----------Ornaments--------
	[28] = {
		startprice = 4000,
		increaseby = 0,
		item = 'enfeite', 
		amount = 30
	},
	
----------Trim--------
	[27] = {
		startprice = 4000,
		increaseby = 0,
		item = 'trim', 
		amount = 30
	},
	
----------Vanity plates--------
	[26] = {
		startprice = 3000,
		increaseby = 0,
		item = 'placa', 
		amount = 30
	},
	
----------Plate holder--------
	[25] = {
		startprice = 3000,
		increaseby = 0,
		item = 'porta-placa', 
		amount = 30
	},
---------Back Wheels---------
	[24] = {
		startprice = 5000,
		increaseby = 0,
		item = 'roda', 
		amount = 30
	},
---------Front Wheels---------
	[23] = {
		startprice = 5000,
		increaseby = 0,
		item = 'roda', 
		amount = 30
	},
---------Headlights---------
	[22] = {
		startprice = 5000,
		item = 'xenon', 
		amount = 30
	},
	
----------Turbo---------
	[18] = {
		startprice = 20000,
		item = 'turbo', 
		amount = 30
	},
	
-----------Armor-------------
	[16] = {
		startprice = 10000,
		increaseby = 10000,
		item = 'blindagem', 
		amount = 30
	},

---------Suspension-----------
	[15] = {
		startprice = 5000,
		increaseby = 5000,
		item = 'suspensão', 
		amount = 30
	},
-----------Horn----------
    [14] = {
        startprice = 100,
		increaseby = 0,
		item = 'buzina', 
		amount = 30
    },
-----------Transmission-------------
    [13] = {
        startprice = 10000,
		increaseby = 10000,
		item = 'transmissão', 
		amount = 30
	},
	
-----------Brakes-------------
	[12] = {
        startprice = 5000,
		increaseby = 5000,
		item = 'freios', 
		amount = 30
	},
	
------------Engine----------
	[11] = {
        startprice = 7000,
		increaseby = 7000,
		item = 'motor', 
		amount = 30
	},
    ---------Roof----------
	[10] = {
		startprice = 1000,
		increaseby = 0,
		item = 'teto', 
		amount = 30
	},

	------------Right Fender---------
	[9] = {
		startprice = 1500,
		increaseby = 400,
		item = 'paralama', 
		amount = 30
	},
	
------------Fenders---------
	[8] = {
		startprice = 3000,
		increaseby = 0,
		item = 'paralama', 
		amount = 30
	},
	
------------Hood----------
	[7] = {
		startprice = 3000,
		increaseby = 0,
		item = 'capô', 
		amount = 30
	},
	
----------Grille----------
	[6] = {
		startprice = 1000,
		increaseby = 0,
		item = 'grelha', 
		amount = 30
	},
	
----------Roll cage----------
	[5] = {
		startprice = 4000,
		increaseby = 0,
		item = 'gaiola', 
		amount = 30
	},
	
----------Exhaust----------
	[4] = {
		startprice = 1000,
		increaseby = 400,
		item = 'escapamento', 
		amount = 30
	},
	
----------Skirts----------
	[3] = {
		startprice = 3000,
		increaseby = 0,
		item = 'saias', 
		amount = 30
	},
	
-----------Rear bumpers----------
	[2] = {
		startprice = 3000,
		increaseby = 0,
		item = 'parachoque', 
		amount = 30
	},
	
----------Front bumpers----------
	[1] = {
		startprice = 3000,
		increaseby = 0,
		item = 'parachoque', 
		amount = 30
	},
	
----------Spoiler----------
	[0] = {
		startprice = 1000,
		increaseby = 0,
		item = 'aerofolio', 
		amount = 30
	},
}


config.locais = {
	--[[ { vec3(-222.13,-1330.18,30.89), perm = "LosSantos",
		opcoes = {
			{ nome = 'aerofólio', img = "https://cdn.discordapp.com/attachments/696769248990593110/744389451178049606/aerofolio.png" },
			{ nome = 'parachoque dianteiro', img = "https://cdn.discordapp.com/attachments/696769248990593110/744391629456015360/front_bumper.png", id = "parachoque-dianteiro" },
			{ nome = 'parachoque traseiro', img = "https://cdn.discordapp.com/attachments/696769248990593110/744396348773629982/rear_bumper.png", id = "parachoque-traseiro" },
			{ nome = 'saias', img = "https://cdn.discordapp.com/attachments/696769248990593110/744398322051055616/side_skirt.png" },
			{ nome = 'escapamento', img = "https://cdn.discordapp.com/attachments/696769248990593110/744424924520775731/exhaust.png" },
			{ nome = 'chassi', img = "https://cdn.discordapp.com/attachments/696769248990593110/744841946845151273/chassis.png" },
			{ nome = 'grelha', img = "https://cdn.discordapp.com/attachments/696769248990593110/744431533309427784/grille.png" },
			{ nome = 'capô', img = "https://cdn.discordapp.com/attachments/696769248990593110/744400362420830208/hood.png" },
			{ nome = 'para-lama', img = "https://cdn.discordapp.com/attachments/696769248990593110/744441157039292426/fenders.png" },
			{ nome = 'para-lama traseiro', img = "https://cdn.discordapp.com/attachments/744840043452956693/806365338118914098/fender.png", id = "right-fender" },
			{ nome = 'teto', img = "https://media.discordapp.net/attachments/696769248990593110/744444783937716254/roof.png" },
			{ nome = 'motor', img = "https://cdn.discordapp.com/attachments/696769248990593110/744401411978166343/engine.png" },
			{ nome = 'freios', img = "https://cdn.discordapp.com/attachments/696769248990593110/744410578348540015/brakes.png" },
			{ nome = 'transmissão', img = "https://media.discordapp.net/attachments/696769248990593110/744413736202141757/transmission.png", },
			{ nome = 'buzina', img = "https://cdn.discordapp.com/attachments/696769248990593110/744414382976532620/horn.png" },
			{ nome = 'suspensão', img = "https://cdn.discordapp.com/attachments/696769248990593110/745493885039673414/suspension.png" },
			{ nome = 'blindagem', img = "https://cdn.discordapp.com/attachments/696769248990593110/744415520538886214/armor.png" },
			{ nome = 'turbo', img = "https://cdn.discordapp.com/attachments/696769248990593110/744417854929240154/turbo.png" },
			{ nome = 'interior', img = "https://cdn.discordapp.com/attachments/696769248990593110/745164857833291866/interior.png" },
			{ nome = 'farol', img = "https://media.discordapp.net/attachments/696769248990593110/744412125950246992/xenon.png" },
			{ nome = 'decal', img = "https://cdn.discordapp.com/attachments/696769248990593110/744450364253667368/liveries.png" },
			{ nome = 'rodas', img = "https://cdn.discordapp.com/attachments/696769248990593110/744420023321231460/wheels.png" },
			{ nome = 'porta-placa', img = "https://cdn.discordapp.com/attachments/744470864455532604/799839799011704872/Plateholders.png", id = "plate-holder" },
			{ nome = 'placa custom', img = "https://media.discordapp.net/attachments/744470864455532604/799854263043358780/vanity-plates.png?width=559&height=559", id = "vanity-plates" },
			{ nome = 'placa', img = "https://cdn.discordapp.com/attachments/696769248990593110/744446184730656889/plates.png" },
			{ nome = 'neon', img = "https://cdn.discordapp.com/attachments/696769248990593110/744458359259791400/neon.png" },
			{ nome = 'pintura', img = "https://cdn.discordapp.com/attachments/696769248990593110/744421525423128576/paint.png" },
			{ nome = 'vidro', img = "https://cdn.discordapp.com/attachments/696769248990593110/744854130597822544/window.png" },
			{ nome = "hidráulica", img = "https://cdn.discordapp.com/attachments/744470864455532604/799844393292660746/Hydraulics.png", id = "hydraulics"},
			{ nome = "bloco do motor", img = "https://cdn.discordapp.com/attachments/744470864455532604/799845074552881172/engine-block.png", id = "engine-block"},
			{ nome = "filtro de ar", img = "https://cdn.discordapp.com/attachments/744470864455532604/799845575822278676/air-filter.png", id = "air-filter"},
			{ nome = "suporte", img = "https://cdn.discordapp.com/attachments/744470864455532604/799846344545665044/struts.png", id = "struts"},
			{ nome = "antena", img = "https://cdn.discordapp.com/attachments/744470864455532604/799847106885320724/aerials.png", id = "aerials"},
			{ nome = "design", img = "https://cdn.discordapp.com/attachments/744470864455532604/799842114623897620/TrimDesign.png", id = "trim"},
			{ nome = "tanque", img = "https://cdn.discordapp.com/attachments/744470864455532604/799852477872341052/tank.png", id = "tank"},
		}
	},
	{ vec3(-214.45,-1319.79,30.89), perm = "LosSantos",
		opcoes = {
			{ nome = 'farol', img = "https://media.discordapp.net/attachments/696769248990593110/744412125950246992/xenon.png" },
			{ nome = 'decal', img = "https://cdn.discordapp.com/attachments/696769248990593110/744450364253667368/liveries.png" },
			{ nome = 'rodas', img = "https://cdn.discordapp.com/attachments/696769248990593110/744420023321231460/wheels.png" },
			{ nome = 'placa custom', img = "https://media.discordapp.net/attachments/744470864455532604/799854263043358780/vanity-plates.png?width=559&height=559", id = "vanity-plates" },
			{ nome = 'placa', img = "https://cdn.discordapp.com/attachments/696769248990593110/744446184730656889/plates.png" },
			{ nome = 'neon', img = "https://cdn.discordapp.com/attachments/696769248990593110/744458359259791400/neon.png" },
			{ nome = 'pintura', img = "https://cdn.discordapp.com/attachments/696769248990593110/744421525423128576/paint.png" },
			{ nome = 'vidro', img = "https://cdn.discordapp.com/attachments/696769248990593110/744854130597822544/window.png" },
			{ nome = "design", img = "https://cdn.discordapp.com/attachments/744470864455532604/799842114623897620/TrimDesign.png", id = "trim"},
		}
	}, ]]
	{ vec3(-323.93,-134.31,39.01), perm = "LosSantos" },
	{ vec3(-340.12,-117.75,39.05), perm = "LosSantos" },
	{ vec3(-339.57,-108.59,39.01), perm = "LosSantos" },

	{ vec3(-328.62,-131.65,39.01), perm = "LosSantos"},
}

--[[ config.locais = {
	vec3(-222.13,-1330.18,30.89),
	vec3(-214.45,-1319.79,30.89),
	vec3(938.26,-978.40,39.57),
	vec3(937.15,-963.08,39.57),
	vec3(957.14,-980.95,39.58),
} ]]


--config.repair_price = 0 -- preço para reparar veículo

config.permissao = 	"LosSantos"

config.logo = "https://vignette.wikia.nocookie.net/gtawiki/images/b/be/BennysOriginalMotorWorks-GTAO-Logo.png/revision/latest?cb=20160623123158"

config.marker = function(x,y,z)
	DrawMarker(27, vec3(x,y,z) ,0,0,0,0,0,0,301,3.001,1.001,3,198,252,155,0,0,0,1)
	DrawMarker(36, vec3(x,y,z),0,0,0,0,0,0,1.001,3.001,1.001,3,198,252,155,0,0,0,1)
end



config.clientmsg = {
	"Modificações aplicadas com <b>sucesso</b>.",
	"Veículo reparado com <b>sucesso</b>.",
	"Você se afastou muito do veículo.",
	"PRESSIONE  ~r~E~w~  PARA ACESSAR A ~y~MECÂNICA",
	"aplicando modificações",
	"reparando",
}

config.servermsg = {
	"Você não tem permissão.",
	"Veículo já está sendo modificado por outro mecânico.",
	function(price) return "Você não possui <b>$"..price.."</b>." end
}



-- play na animação

config.playAnim = function()
	vRP.playAnim(false,{"mini@repair","fixing_a_player"},true)
end





-- mudar preco da tunagem de acordo com o valor do veiculo

 local Proxy = module("vrp","lib/Proxy")
nation = Proxy.getInterface("nation_garages")
config.getModPrice = function(modType, vehicle)
	local price = config.prices[modType]
	local hash = GetEntityModel(vehicle)
	local vehPrice = nation.getVehiclePrice(hash)
	if vehPrice and price.startprice then
		local startprice = price.startprice --(tirar parentes e o comentario para funcionar no primeiro nivel) + vehPrice * 0.001 -- 5% do valor do veiculo
		local increaseby = (price.increaseby or 0) + vehPrice * 0.001
		price = { startprice = startprice, increaseby = increaseby }
	end
	return price
end


-- tunar por itens

--[[ config.tryPayMods = function(source, user_id, cart)
	local itemList = {}
	local money = parseInt(vRP.getBankMoney(user_id) + vRP.getMoney(user_id))
	if money < (cart['total'] or 0) then return false end
	for k in pairs(cart) do
		local index = tonumber(k) or tostring(k)
		local v = config.prices[index]
		if v and v.item and v.amount then
			if not itemList[v.item] then
				itemList[v.item] = v.amount
			else
				itemList[v.item] = itemList[v.item] + v.amount
			end
		end
	end
	for item, amount in pairs(itemList) do
		if vRP.getInventoryItemAmount(user_id,item) < amount then
			TriggerClientEvent("Notify",source,"negado","Você não possui <b>"..amount.." "..item.."</b>")
			return false
		end
	end
	if vRP.tryFullPayment(user_id, cart.total) then
		for item, amount in pairs(itemList) do
			if not vRP.tryGetInventoryItem(user_id,item,amount) then
				TriggerClientEvent("Notify",source,"negado","Você não possui <b>"..amount.." "..item.."</b>")
				return false
			end
		end
	else
		TriggerClientEvent("Notify",source,"negado","Você não possui <b>$"..vRP.format(cart.total).."</b>.") 
		return false
	end
	return true
end ]]




-- funcao de pagamento

--[[ config.tryPay = function(user_id,price)
	return vRP.tryPayment(user_id, price)
end ]]

config.showDebug = false -- mostrar modificacoes cada vez q um veiculo é spawnado